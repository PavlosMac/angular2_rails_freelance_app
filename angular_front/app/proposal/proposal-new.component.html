<div class="card container form-container">
  <div class="row">
    <div class="col-md-6">
      <h1> Create proposal </h1>
        <div>
          <form (ngSubmit)="createProposal(proposal)"  #proposalForm="ngForm">
            <div class="form-group">
              <label for="customer">Customer name</label>
              <input type="text"
                class="form-control"
                id="customer"
                placeholder="ABC company"
                required
                name="customer"
                #customer='ngModel'
                [(ngModel)]="proposal.customer">
              <div
                [hidden]="customer.valid || customer.pristine" class=" alert alert-danger">
                Customer name is required
              </div>
            </div>
          <div class="form-group">
            <label for="portfolio_url">Portfolio URL</label>
            <input type="text"
                class="form-control"
                id="portfolio_url"
                required
                name="portfolio_url"
                #portfolio_url='ngModel'
                [(ngModel)]="proposal.portfolio_url">
              <div
                [hidden]="portfolio_url.valid || portfolio_url.pristine">
                Provide full portfolio URL
              </div>
          </div>
            <div class="form-group">
              <label for="tools">Tools to use</label>
              <input type="text"
                class="form-control"
                id="tools"
                placeholder="Ruby on Rails, Angular, etc"
                required
                name="tools"
                #tools='ngModel'
                [(ngModel)]="proposal.tools">
              <div
                [hidden]="tools.valid || tools.pristine">
                Provide all tools to be used
              </div>
          </div>
          <div class="form-group">
            <label for="estimated_hours">Estimated Hours</label>
                <input type="number"
                  class="form-control"
                  id="estimated_hours"
                  required
                  name="estimated_hours"
                  #estimated_hours='ngModel'
                  [(ngModel)]="proposal.estimated_hours">
              <div
                  [hidden]="estimated_hours.valid || estimated_hours.pristine" class="alert alert-danger">
                  Include overall estimated hours
              </div>
          </div>
          <div class="form-group">
            <label for="hourly_rate">Hourly Rate</label>
              <div class="input-group">
                <span class="input-group-addon">$</span>
                  <input type="number"
                    class="form-control"
                    id="hourly_rate"
                    required
                    name="hourly_rate"
                    #hourly_rate='ngModel'
                    [(ngModel)]="proposal.hourly_rate">
              </div>
              <div
                  [hidden]="hourly_rate.valid || hourly_rate.pristine" class="alert alert-danger">
                  Include hourly rate
              </div>
          </div>
          <div class="form-group">
            <label for="weeks_to_complete">Weeks to complete</label>
                <input type="number"
                  class="form-control"
                  id="weeks_to_complete"
                  required
                  name="weeks_to_complete"
                  #weeks_to_complete='ngModel'
                  [(ngModel)]="proposal.weeks_to_complete">
              <div
                  [hidden]="weeks_to_complete.valid || weeks_to_complete.pristine" class="alert alert-danger">
                  Include weeks to complete
              </div>
          </div>
          <div class="form-group">
            <label for="email">Client Email <em>Optional</em></label>
                <input type="email"
                  class="form-control"
                  id="clients_email"
                  name="clients_email"
                  #clients_email='ngModel'
                  [(ngModel)]="proposal.clients_email">
          </div>

          <button type="submit" class="btn btn-outline-primary btn-lg"
            [disabled]="!proposalForm.form.valid"
            [hidden]="submitted"
            >Generate Proposal
          </button>

          <div [hidden]="!submitted" class="alert alert-success" role="alert">
                Your proposal has been generated
                <a class="alert-link" routerLink="/proposals">View all proposals</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
